{% extends "profiles/global-base-ui/sidebar_menu.html" %} 

{% block dashboard %}
<div class="container fluid">
    <div class="ui two column grid">
      <div class="streched row">
        <div class="ten wide column"  style="padding-right: 0%;">
          <div class="ui basic segment">
            <div class="ui stackable grid">

                <div class="sixteen wide column">
                    <div class="ui equal width grid">
                        <div class="column">
                            <div class="ui raised center aligned segment">
                                <div class="ui two column grid">
                                    <div class="four wide column">
                                            <div class="card">
                                                    <div class="content">
                                                        <i class="huge syringe blue icon pop">{{vac_pending}}</i>
                                                    </div>
                                                    <div class="extra content">
                                                        <strong>
                                                            <a href="#">INITIAL VACCINATIONS</a>
                                                        </strong>
                                                    </div>
                                                </div> 
                                    </div>
                                    <div class="column left aligned">
                                            <div class="ui grid">
                                                <div class="column">asd</div>
                                            </div>                        
                                    </div>
                                </div>
                                                        
                            </div>     
                        </div>
                     
                   
                    </div>            
                </div>
                <div class="sixteen wide column">
                        <div class="ui two column equal width grid">  
                            <div class="ten wide column">
                                <div class="ui raised center aligned segment">
                                        <div class="ui two column grid">
                                            <div class="four wide column">
                                                    <div class="card">
                                                            <div class="content">
                                                                <i class="huge syringe purple icon pop">{{vac_pending}}</i>
                                                            </div>
                                                            <div class="extra content">
                                                                <strong>
                                                                    <a href="#">YEARLY VACCINATIONS</a>
                                                                </strong>
                                                            </div>
                                                        </div> 
                                            </div>
                                            <div class="column left aligned">
                                                    <div class="ui grid">
                                                        <div class="column">asd</div>
                                                    </div>                        
                                            </div>
                                        </div>
                                </div>
                            </div> 
                            <div class="six wide column">
                                <div class="ui raised center aligned segment">
                                    <div style="margin-left: 25%;">
                                            <span style="color: #016936;">Today </span> |
                                            <span style="color: #0E6EB8;">Upcoming</span>
                                    </div>
                                        
                                    <div class="card">
                                                <div class="content">
                                                    <i class="huge red heartbeat icon"></i>
                                                    <i class="huge green icon">{{cv1}}</i>
                                                    <i class="huge blue icon">{{cv1}}</i>
                                                </div>
                                                <div class="extra content right aligned">
                                                  
                                                    <strong>
                                                        <a href="#">K9 PHYSICAL EXAM</a>
                                                    </strong>
                                                </div>
                                            </div>
                                </div>
                            </div>
                        </div>   
                </div>
                <div class="sixteen wide column">
                    <div class="ui equal width grid">
                        <div class="column">
                                <div class="ui raised center aligned segment">
                                    <div class="card">
                                        <div class="content">
                                            <i class="huge calendar alternate orange icon">{{health_pending}}</i>
                                        </div>
                                        <div class="extra content">
                                            <strong>
                                                <a href="{% url
                                                'unitmanagement:k9_sick_list'%}">PHEX
                                                TO BE SCHEDULED</a>
                                            </strong>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        <div class="column">
                            <div class="ui raised center aligned segment">
                                <div class="card">
                                    <div class="content">
                                        <i class="huge first aid green icon">{{health_pending}}</i>
                                    </div>
                                    <div class="extra content">
                                        <strong>
                                            <a href="{% url 'unitmanagement:k9_sick_list'%}">HEALTH CONCERNS</a>
                                        </strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="column">
                            <div class="ui raised center aligned segment">
                                <div class="card">
                                    <div class="content">
                                        <i class="huge exclamation venus mars teal icon">{{mated_count}}</i>
                                    </div>
                                    <div class="extra content">
                                        <strong>
                                            <a href="{% url 'planningandacquiring:breeding_list'%}?type=mated">MATED K9's</a>
                                        </strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                
                        <div class="column">
                            <div class="ui raised center aligned segment">
                                <div class="card">
                                    <div class="content">
                                        <i class="huge heart red icon">{{pregnant_count}}</i>
                                    </div>
                                    <div class="extra content">
                                        <strong>
                                            <a href="{% url 'planningandacquiring:breeding_list'%}?type=pregnant">PREGNANT K9's</a>
                                        </strong>
                                    </div>
                                </div>
                            </div>
                        </div> 
                    </div>       
                </div>
                <div class="sixteen wide column">
                    <div class="ui equal width grid">
                        <div class="column">
                                <div class="ui raised center aligned segment">
                                    <div class="card">
                                        <div class="content">
                                            <i class="huge paw alternate olive icon">{{health_pending}}</i>
                                        </div>
                                        <div class="extra content">
                                            <strong  style="font-size: 11px;">
                                                <a href="#">K9
                                                ACQUISITION COUNTDOWN</a>
                                            </strong>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        <div class="column">
                            <div class="ui raised center aligned segment">
                                <div class="card">
                                    <div class="content">
                                        <i class="huge first aid green icon">{{health_pending}}</i>
                                    </div>
                                    <div class="extra content">
                                        <strong>
                                            <a href="{% url 'unitmanagement:k9_sick_list'%}">HEALTH CONCERNS</a>
                                        </strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="column">
                            <div class="ui raised center aligned segment">
                                <div class="card">
                                    <div class="content">
                                        <i class="huge exclamation black icon">{{incident}}</i>
                                    </div>
                                    <div class="extra content">
                                        <strong>
                                            <a href="#">K9 INCIDENTS</a>
                                        </strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                
                        <div class="column">
                            <div class="ui raised center aligned segment">
                                <div class="card">
                                    <div class="content">
                                        <i class="huge handshake brown icon">{{for_adopt_count}}</i>
                                    </div>
                                    <div class="extra content">
                                        <strong>
                                            <a href="{% url 'training:adoption_list'%}">K9 FOR-ADOPTION</a>
                                        </strong>
                                    </div>
                                </div>
                            </div>
                        </div> 
                    </div>       
                </div>
              
                <div class="sixteen wide column">
                    <!-- <div class="ui raised segment">
                        <canvas id="myChart4"></canvas>
                    </div> -->
                </div>
            </div>
        </div>
        </div>
        <div class="six wide column" style="padding: 0%;padding-right: 1%;">
                <div class="ui basic segment"> 
                <div class="ui inverted segment">
                    <h4>Calendar</h4>
                </div>
                    <div class="ui right aligned basic segment"
                    style="padding:0%;margin:0%;margin-bottom:5px">
                        <div class="ui buttons">
                            <button class="ui button"  id = "prev" >Previous Year</button>
                            <div class="or"></div>
                            <button class="ui button"  id = "next" >Next Year</button>
                        </div>
                    
                    </div>
            
                    <div id = "calendar" style="margin-top:0%;"></div>
                </div> 
        </div>
        </div>
    </div>    
</div>
<div class="ui flowing popup transition hidden">
    <table class="ui very basic table">
        <tr>
            <th>1st dose DHPPiL+CV</th>
            <td>{{cv1}}</td>
        </tr>
        <tr>
            <th>2nd dose DHPPiL+CV</th>
            <td>{{cv2}}</td>
        </tr>
        <tr>
            <th>3rd dose DHPPiL+CV</th>
            <td>{{cv3}}</td>
        </tr>
        <tr>
            <th>1st dose Bordetella</th>
            <td>{{bd1}}</td>
        </tr>
        <tr>
            <th>2nd dose Bordetella</th>
            <td>{{bd2}}</td>
        </tr>
        <tr>
            <th>Anti-Rabies</th>
            <td>{{rabies}}</td>
        </tr>
        <tr>
            <th>1st dose DHPPiL4</th>
            <td>{{dh1}}</td>
        </tr>
        <tr>
            <th>2nd dose DHPPiL4</th>
            <td>{{dh2}}</td>
        </tr>
    </table>
</div>
<style>
#prev, #next{
    background-color:orangered;
    color: white;
}
</style>
    <script>
        $(document).ready(function() {
            $('.pop').popup({
                position : 'bottom center',
                inline: false,
                hoverable  : true,
                popup: '.flowing.popup'
            });

            var endpoint = '../../unitmanagement/vet/api'
            var in_heat = [];
        
            $.ajax({
                method: "GET",
                url: endpoint,
                success: function(data){
                    in_heat = data.in_heat
                    console.log(in_heat)
                    setChart()         
                },
                error: function(error_data){
                    console.log("error")
                    console.log(error_data)
                }
            })
        
            function setChart(){
                var ctx = document.getElementById('myChart');
                var ctx2 = document.getElementById('myChart2');
                var ctx3 = document.getElementById('myChart3');
                var ctx4 = document.getElementById('myChart4');
        
                var myChart4 = new Chart(ctx4, {
                    type: 'line',
                    data: {
                        labels:["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        datasets: [{
                            label: "In Heat K9's",
                            data: in_heat,
                            backgroundColor: ['rgba(255, 99, 132, 0.5)','rgba(54, 162, 235, 0.5)','rgba(255, 206, 86, 0.5)','rgba(75, 192, 192, 0.5)'],
                            borderColor: ['rgba(255, 99, 132, 1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)','rgba(75, 192, 192, 1)',],
                            borderWidth: 1
                        }]
                    },
                    options: {
                    animation: {
                        animateScale: true,
                    },
                    title: {
                        display: true,
                        text: "K9's In Heat"
                    },
                        scales: {
                        xAxes: [{
                        ticks: {
                            beginAtZero: true,
                        }
                        }],
                        yAxes: [{
                        ticks: {
                            beginAtZero: true,
                            step:1,
                            suggestedMax:10,
                        }
                        }]
                    },
                    }
                });
            }
        
            
        });
        </script>


<script>

<style>
.fc-header, .fc-button, #prev, #next{
  background-color:orangered;
  color: white;
}

 #calendar {
    max-width: 900px;
    margin: 40px auto;
 }
</style>
</script>


<script>

     $('#calendar').fullCalendar({
          header: {
              left: 'prev,next today',
              center: 'title',
              right: 'month,agendaWeek,agendaDay'
          },

          defaultView: 'month',
          weekNumbers: 'true',
          editable: true,
          selectable: true,
          eventLimit: true,
          showNonCurrentDates: true,
          nowIndicator: true,

          eventTextColor: "white",


          events: [
                {% for i in events %}
                {
                     id: '{{ i.id }}',
                    title: '{{i.k9}}',
                    start: '{{ i.date_start|date:"Y-m-d" }}',
                    end: '{{ i.date_end|date:"Y-m-d" }}',
                    allDay: 'true',
                },
                {% endfor %}

            ],


          }); // end #calendar


</script>

{% endblock%}